3484aa184160a65ac275ec1af513b10a14dbdf53 Added max_count & free_count (#670)
